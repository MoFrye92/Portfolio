<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VibeCheckr Demo – Check In & Reset</title>

  <!-- Meta -->
  <meta name="description" content="Try the VibeCheckr demo – pick a mood, journal your thoughts, see your vibe history and discover a music suggestion that matches your vibe." />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet" />

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Demo-specific styles -->
  <style>
    /* (same styles as before) ... */
    /* Add new vibe-message styling */
    .vibe-message {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: var(--color-text-light);
      max-width: 550px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }
  </style>
</head>

<body>
  <!-- Navbar & mobile menu omitted for brevity (same as previous) -->

  <!-- VibeCheckr Demo -->
  <main class="vibe-container">
    <!-- (same header & mood grid as before) ... -->

    <!-- Music suggestion (appears on mood selection) -->
    <div id="musicSuggestion" class="music-suggestion">
      <div class="music-card">
        <div class="music-cover"></div>
        <div class="music-info">
          <h4 id="musicTitle">Song Title</h4>
          <p id="musicArtist">Artist Name</p>
        </div>
      </div>
    </div>
    <!-- New vibe message -->
    <p id="vibeMessage" class="vibe-message" style="display:none;"></p>

    <!-- Journal & past entries sections (unchanged) ... -->
  </main>

  <!-- Updated script to include message per mood -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Map moods to song suggestions + messages
      const moodMusicMap = {
        "Feeling Good": {
          title: "Good as Hell",
          artist: "Lizzo",
          color: "#8ED081",
          message: "We love a good vibe. Want to bottle this moment with a quick note or a song that matches?"
        },
        "Inspired": {
          title: "Dreams",
          artist: "Fleetwood Mac",
          color: "#FFCE70",
          message: "Ride that wave of inspiration. Want to capture your idea or amplify it with a soundtrack?"
        },
        "In the Zone": {
          title: "Eye of the Tiger",
          artist: "Survivor",
          color: "#F9A36E",
          message: "Stay in that zone! Drop a note to keep momentum or enjoy a track to keep you going."
        },
        "Chill / Relaxed": {
          title: "Weightless",
          artist: "Marconi Union",
          color: "#81C7E5",
          message: "Keep coasting. Want to capture that chill or vibe with some mellow tunes?"
        },
        "Drained": {
          title: "Fix You",
          artist: "Coldplay",
          color: "#B0B0B0",
          message: "Got you — brain’s doing the absolute most today. You don’t have to fix anything right now. Want a tiny reset or to get it off your chest?"
        },
        "Stressed": {
          title: "Breathe",
          artist: "Télépopmusik",
          color: "#E7827C",
          message: "Deep breath — you’re not alone in that feeling. Wanna unpack it gently or just shift the vibe a bit?"
        },
        "Feeling Low": {
          title: "Someone Like You",
          artist: "Adele",
          color: "#7C8FB2",
          message: "It’s okay to feel low. Want to write it out or shift the mood softly?"
        },
        "On Edge": {
          title: "Stressed Out",
          artist: "Twenty One Pilots",
          color: "#A78DFF",
          message: "Deep breath — you’re not alone in that feeling. Wanna unpack it gently or just shift the vibe a bit?"
        }
      };

      const moodButtons = document.querySelectorAll(".mood-btn");
      const journalSection = document.getElementById("journalSection");
      const selectedMoodSpan = journalSection.querySelector("span");
      const saveEntryBtn = document.getElementById("saveEntryBtn");
      const journalInput = document.getElementById("journalInput");
      const feedback = document.getElementById("feedback");
      const pastEntries = document.getElementById("pastEntries");
      const entriesContainer = document.getElementById("entriesContainer");

      const musicCard = document.getElementById("musicSuggestion");
      const musicCover = musicCard.querySelector(".music-cover");
      const musicTitle = document.getElementById("musicTitle");
      const musicArtist = document.getElementById("musicArtist");
      const vibeMessage = document.getElementById("vibeMessage");

      function loadEntries() {
        const stored = JSON.parse(localStorage.getItem("vibeEntries") || "[]");
        if (stored.length) {
          pastEntries.style.display = "block";
          entriesContainer.innerHTML = "";
          stored.forEach(entry => {
            const div = document.createElement("div");
            div.className = "past-entry";
            div.innerHTML = "<strong>" + entry.mood + "</strong> — " + new Date(entry.date).toLocaleString() + "<br>" + entry.note;
            entriesContainer.appendChild(div);
          });
        } else {
          pastEntries.style.display = "none";
        }
      }
      loadEntries();

      moodButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          moodButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");

         const mood = btn.dataset.mood.trim();
          selectedMoodSpan.textContent = mood;
          journalSection.style.display = "block";
          feedback.style.display = "none";
          journalInput.value = "";

          // Show music suggestion & message
         const suggestion = moodMusicMap[mood] || null;
          if (suggestion) {
            musicTitle.textContent = suggestion.title;
            musicArtist.textContent = suggestion.artist;
            musicCover.style.background = suggestion.color;
            musicCard.style.display = "block";

            vibeMessage.textContent = suggestion.message;
            vibeMessage.style.display = "block";
          } else {
            musicCard.style.display = "none";
            vibeMessage.style.display = "none";
          }
        });
      });

      saveEntryBtn.addEventListener("click", () => {
        const mood = selectedMoodSpan.textContent;
        const note = journalInput.value.trim() || "(no note)";
        const newEntry = {
          mood: mood,
          note: note,
          date: new Date().toISOString()
        };
        const stored = JSON.parse(localStorage.getItem("vibeEntries") || "[]");
        stored.push(newEntry);
        localStorage.setItem("vibeEntries", JSON.stringify(stored));
        feedback.style.display = "block";
        journalSection.style.display = "none";
        musicCard.style.display = "none";
        vibeMessage.style.display = "none";
        loadEntries();
      });
    });
  </script>

  <!-- Theme & menu script -->
  <script src="js/script.js" defer></script>

  <!-- Overlays (optional) -->
  <div class="atmo-warm"></div>
  <div class="atmo-grain"></div>
</body>
</html>
